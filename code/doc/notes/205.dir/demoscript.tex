\newcommand{\thisdocURL}{http://aips2.nrao.edu/aips++/docs/notes/202/202.html}
\newcommand{\searchURL}{../../html/aips2search.html}
\newcommand{\aipsviewURL}{../../user/aipsview/aipsview.html}
\newcommand{\GlishmanualURL}{../../reference/Glish/Glish.html}
\newcommand{\GlishtutorialURL}{../../notes/195/195.html}
\newcommand{\synthesisURL}{../../user/synthesis/synthesis.html}
\newcommand{\gsURL}{../../user/gettingstarted/gettingstarted.html}
\newcommand{\userrefmanualURL}{../../user/Refman/Refman.html}
\newcommand{\specsURL}{../../specs/specs.html}
\newcommand{\betaURL}{../beta/beta.html}
\newcommand{\consortiumURL}{../consortium.html}
%
% URL to Help system
%
\externallabels{../../user/Refman}{../../user/Refman/labels.pl}

% Add home page navigation button
%

\htmladdtonavigation{\htmladdnormallink
  {\htmladdimg{../../gif/home.gif}}{{../../html/aips++.html}}}

\section{Purpose}

The purpose of this document is to suggest interactive demonstrations
of AIPS++.

\section{General reminders}

\begin{itemize}
\item Set DISPLAY
\item Use a stable version of AIPS++, {\em e.g.} /aips++/beta
\item Ensure that the netscape is local to the machine being used or
can see the same disks
\item Work in a clean directory
\item Do a trial run!
\end{itemize}

\section{General capabilities}

\begin{itemize}
\item Say what AIPS++ is: {\bf Data, Tools, Tasks}
\item Start aips++
\item Talk about logger windows, clients. 
\begin{itemize}
\item Show options on File and Options menu. 
\item Show how help works
\begin{verbatim}
help()
help('aips')
help('display')
web()
\end{verbatim}
\item Show {\em about AIPS++} window, talk about configuration of
AIPS++ (aipsrc variables)
\end{itemize}
\item Show capabilities of Glish
\begin{itemize}
\item Simple vectors: 
\begin{verbatim}
a:=1:1000
b:=sin(pi*(a/360)^2)
print a, b
\end{verbatim}
\item Plotting: 
\begin{verbatim}
dp.plotxy(a, b, "squares")
\end{verbatim}
\item Servers and FFTs:
\begin{verbatim}
fft:=fftserver()
c:=fft.realtocomplexfft(b)
dp.clear()
dp.ploty(abs(c))
\end{verbatim}
Zoom on plot to show detail.
\item Aipsview. Make and display an array:
\begin{verbatim}
a:=array(1:1000, 100, 100)
dd.array(a)
\end{verbatim}
\end{itemize}
\end{itemize}

\section{Synthesis}

\begin{itemize}
\item Start a catalog browser to see the files as they are generated
\begin{verbatim}
dc.gui()
\end{verbatim}
\item Set up a MeasurementSet: 
\begin{verbatim}
imagedemo(T)
di.init_ms()
\end{verbatim}
\item Browse the MS: 
\begin{verbatim}
t:=table('MS')
t.browse()
\end{verbatim}
\item Take the 4th root of the weight (Done in VLBI)
\begin{verbatim}
t:=table('MS', read_only=F)
t.colnames()
st:=t.query('ANTENNA1==4 || ANTENNA2==4')
st.nrows()
t.nrows()
w:=st.getcol('WEIGHT')
w[w>0]:=sqrt(sqrt(w[w>0]))
st.putcol('WEIGHT', w)
st.flush()
\end{verbatim}
\item Make an image: 
\begin{verbatim}
di.inputs()
di.npix:=[256,256] # Or whatever
di.weight_ms() # Robust weighting
di.deconvolve()
\end{verbatim}
\item Display it:
\begin{verbatim}
di.display()
\end{verbatim}
\item Set levels on aipsview (-0.03, 0.05 works). Go through all planes. Show the axes.
\item Do a selfcal.
\begin{itemize}
\item Set a threshold: 
\begin{verbatim}
di.model.threshold:=0.035
\end{verbatim}
\item Derive the model: 
\begin{verbatim}
di.derive_model()
di.derive_ft()
\end{verbatim}
\item Do the solution, setting the timescale for polarization leakage
terms to 300s (highly unfair)
\begin{verbatim}
di.D.t:=300
di.solve_cal()
\end{verbatim}
\item Repeat the deconvolution after changing the name of the output
image: 
\begin{verbatim}
di.images.restored:='restored.1'
\end{verbatim}
\item Display the image again.
\end{itemize}
\item Show a gaintable:
\begin{verbatim}
gt:=gaintable('tcal')
gt.plot()
\end{verbatim}
\end{itemize}

\section{Measures GUI}

\begin{itemize}
\item Find LAST from GMT. First start measures gui:
\begin{verbatim}
dm.gui()
\end{verbatim}
\begin{itemize}
\item Select Position gui
\item Under OBS, select your observatory e.g. GB
\item Select output as IRTF
\item Press $->$Convert to convert to IRTF
\item Press $->$Frame to define this as a frame
\item Select Epoch gui under main measures gui
\item Enter the string 'today' (no quotes) in the slot on
the left
\item Select output as LAST
\item Press $->$Convert to convert to LAST (presto)
\end{itemize}
\end{itemize}

\section{Utilities}

\begin{itemize}
\item Show system information:
\begin{verbatim}
sysinfo()
sysinfo().numcpu()
sysinfo().host()
\end{verbatim}
\item GUI stuff
\begin{verbatim}
f:=infowindow('Eat at Bodos', 'Dining recommendations') # Informative only
choicewin('Type of bagel',"plain wheat sourdough")      # Choice returned to Glish
g:=guiframework()					# Framework of GUIs
g:=F							# How to kill the frame
\end{verbatim}
\end{itemize}

\section{Single Dish}

\begin{itemize}
\item Load sdddemo and create tables for reading
\begin{verbatim}
include 'sddemo.g'
sddemo()
\end{verbatim}
\end{itemize}
