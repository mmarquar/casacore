<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>casacore: casacore::BinarySearch_global_functions_binarysearch Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   &#160;<span id="projectnumber">$Rev$</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="structcasacore_1_1BinarySearch__global__functions__binarysearch.html">BinarySearch_global_functions_binarysearch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structcasacore_1_1BinarySearch__global__functions__binarysearch-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::BinarySearch_global_functions_binarysearch Struct Reference<div class="ingroups"><a class="el" href="group__Utilities__module.html">Utilities_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Binary search a sorted, linear, data structure.  
 <a href="structcasacore_1_1BinarySearch__global__functions__binarysearch.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BinarySearch_8h_source.html">BinarySearch.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a15f7e885694ffb128ab0ba3b170ab684"><td class="memTemplParams" colspan="2">template&lt;class Container , class ElType &gt; </td></tr>
<tr class="memitem:a15f7e885694ffb128ab0ba3b170ab684"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structcasacore_1_1BinarySearch__global__functions__binarysearch.html#a15f7e885694ffb128ab0ba3b170ab684">binarySearch</a> (<a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &amp;found, const Container &amp;container, const ElType &amp;<a class="el" href="namespacecasacore.html#ac188f9709620e307c2f721d6bc43607f">value</a>, <a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a> n, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> lower=0)</td></tr>
<tr class="memdesc:a15f7e885694ffb128ab0ba3b170ab684"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search <em>container</em> for <em>value</em>.  <a href="#a15f7e885694ffb128ab0ba3b170ab684"></a><br/></td></tr>
<tr class="memitem:ae8c975285f676f8106110b3eb78ba67c"><td class="memTemplParams" colspan="2">template&lt;class Container , class ElType &gt; </td></tr>
<tr class="memitem:ae8c975285f676f8106110b3eb78ba67c"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structcasacore_1_1BinarySearch__global__functions__binarysearch.html#ae8c975285f676f8106110b3eb78ba67c">binarySearchBrackets</a> (<a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &amp;found, const Container &amp;container, const ElType &amp;<a class="el" href="namespacecasacore.html#ac188f9709620e307c2f721d6bc43607f">value</a>, <a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a> n, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> lower=0)</td></tr>
<tr class="memdesc:ae8c975285f676f8106110b3eb78ba67c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This version of the function is for containers that use [] for indexing.  <a href="#ae8c975285f676f8106110b3eb78ba67c"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Binary search a sorted, linear, data structure. </p>
<pre class="fragment"> @anchor BinarySearch_summary  
</pre> <h3>Review Status</h3>
<dl>
<dt>Reviewed By:</dt>
<dd>Ger van Diepen</dd>
<dt>Date Reviewed:</dt>
<dd>1995/03/31</dd>
<dt>Test programs:</dt>
<dd>tBinarySearch</dd>
</dl>
<h3>Synopsis</h3>
<p>These binary search functions work on sorted, linear data structures which have operator() or operator[] defined on them (<em>e.g.</em> C-array, <a class="el" href="classcasacore_1_1Vector.html" title="A 1-D Specialization of the Array class.">Vector</a>, <a class="el" href="classcasacore_1_1IPosition.html" title="A Vector of integers, for indexing into Array&lt;T&gt; objects.">IPosition</a>, <a class="el" href="classcasacore_1_1Block.html" title="simple 1-D array">Block</a>, <a class="el" href="classcasacore_1_1ScalarColumn.html" title="Access to a scalar table column with arbitrary data type.">ScalarColumn</a>, <em>etc.</em>) Two versions of the functions are provided, one which uses parentheses () for indexing, one which uses square brackets [] (obviously the latter one can also be used for ordinary C-style pointers and arrays). It is assumed that the container uses zero-based indexing.</p>
<p>The container must be sorted (sorting is available through the <a class="el" href="classcasacore_1_1Sort.html">Sort </a> and <a class="el" href="classcasacore_1_1GenSort.html">GenSort </a> classes, and from various <a class="el" href="classcasacore_1_1Table.html">Table </a> sort functions). The returned index is in the range [0..n] inclusive. That is, from the first element of the container to one past the last element of the container (zero-based indices). If the container is sorted in ascending order, the returned index is the first one whose element is greater than or equal to the searched for value. If it is sorted in descending order, the returned index is the first which is less than or equal to the searched for value. That is, the returned index gives the position at which the value would be inserted (possibly either at the end, or requiring the existing values to be "pushed" to the right) maintaining the sort order. Obviously index n can only be returned if the value searched for is past the end of the array, thus has to be inserted at the end.</p>
<p>The functions determine for themselves whether the container is sorted in ascending or descending order by comparing the first and last element. <br/>
<b>Tip:</b><em> While normally you want to search a container with indices in the range <code>[0 ;;; n-1]</code>, any desired lower bound may be used instead; </em><br/>
 <br/>
<b>Warning:</b><em> The functions do not check if the container is valid, <em>i;e;</em> if the container is sorted and if the container does not contain duplicate values; </em><br/>
</p>
<p>These functions loosely follow some written by Ger van Diepen in a more specialized context.</p>
<h3>Example</h3>
<p><a class="anchor" id="BinarySearch_example"></a> </p>
<div class="fragment"><div class="line">Vector&lt;Int&gt; vi;</div>
<div class="line">...  <span class="comment">// Sets vi somehow</span></div>
<div class="line"><a class="code" href="group__Utilities__module.html#ga7d7656fead45a9e9161b5fdc5ba17214" title="Global in-place sort functions The following global functions are easier to use than the static GenSo...">genSort</a>(vi);</div>
<div class="line"><a class="code" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> val;</div>
<div class="line"><a class="code" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98" title="Define the standard types used by Casacore.">Bool</a> found;</div>
<div class="line"><span class="keywordflow">while</span> (cin &gt;&gt; val &amp;&amp; val != -999) {</div>
<div class="line"><a class="code" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> where = <a class="code" href="structcasacore_1_1BinarySearch__global__functions__binarysearch.html#a15f7e885694ffb128ab0ba3b170ab684" title="Search container for value.">binarySearch</a>(found, vi, val, vi.nelements());</div>
<div class="line"><span class="keywordflow">if</span> (found) {</div>
<div class="line">cout &lt;&lt; <span class="stringliteral">&quot;Found &quot;</span> &lt;&lt; val &lt;&lt; <span class="stringliteral">&quot; at position &quot;</span> &lt;&lt; where &lt;&lt; endl;</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">cout &lt;&lt; val &lt;&lt; <span class="stringliteral">&quot; is not in the vector, but it belongs at &quot;</span> &lt;&lt;</div>
<div class="line">where &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line">} </div>
</div><!-- fragment --><h3>Motivation</h3>
<p>I found that I (BEG) was writing binary search functions several times, for example when checking whether the cached off and gain scans in time sorted data needed to be refilled. It generally seems like a useful little utility function.</p>
<h3>Template Type Argument Requirements (Container)</h3>
<ul>
<li>
operator(Int) or operator[Int] needs to be defined. </li>
<li>
The index must be zero based. </li>
<li>
The result of that indexing must be an expression that can be compared with an object of class ElType. Normally in fact it would be a temporary of class ElType. </li>
</ul>
<h3>Template Type Argument Requirements (ElType)</h3>
<ul>
<li>
The less than operator (&lt;) and greater than (&gt;) operators need to be defined, and have their usual ordering relations. </li>
</ul>
<h3>To Do</h3>
<ul>
<li>
I suspect that an implementation is possible that only calls operator() or [] once during each evaluation of the while loop. </li>
<li>
MACROize implementation so that code isn't repeated twice. Or, possibly implement one using the other (e.g. by introducing an adapter class that turns (i) into [i]. </li>
</ul>
<p><a class="anchor" id="BinarySearch_binarysearch"></a> </p>

<p>Definition at line <a class="el" href="BinarySearch_8h_source.html#l00135">135</a> of file <a class="el" href="BinarySearch_8h_source.html">BinarySearch.h</a>.</p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="a15f7e885694ffb128ab0ba3b170ab684"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container , class ElType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> casacore::BinarySearch_global_functions_binarysearch::binarySearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &amp;&#160;</td>
          <td class="paramname"><em>found</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Container &amp;&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ElType &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>lower</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search <em>container</em> for <em>value</em>. </p>
<p>There are assumed to be at least <em>n</em> elements in the container. The container will be searched for indices in the range <code>[lower ... lower + n - 1]</code> Return the index of the first element which is greater than or equal to (ascending order) or less than or equal to (descending order) the value.</p>
<p>This version of the function is for containers that use () for indexing. </p>

</div>
</div>
<a class="anchor" id="ae8c975285f676f8106110b3eb78ba67c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container , class ElType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> casacore::BinarySearch_global_functions_binarysearch::binarySearchBrackets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &amp;&#160;</td>
          <td class="paramname"><em>found</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Container &amp;&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ElType &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>lower</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This version of the function is for containers that use [] for indexing. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>casa/Utilities/<a class="el" href="BinarySearch_8h_source.html">BinarySearch.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 1 2015 15:43:46 for casacore by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
